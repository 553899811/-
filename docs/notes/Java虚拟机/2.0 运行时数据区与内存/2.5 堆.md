![](https://cdn.nlark.com/yuque/0/2021/png/177460/1615858752075-3039be9a-eff7-4d34-aacd-62cb42688cae.png#align=left&display=inline&height=446&margin=%5Bobject%20Object%5D&originHeight=446&originWidth=1052&size=0&status=done&style=none&width=1052)
<a name="IDwiM"></a>
# 1. 堆的核心概念

- 堆针对一个JVM进程来说是唯一的，也就是一个进程只有一个JVM
- 进程包含多个线程，他们是**共享同一堆空间**的
- 堆的大小可调节 -Xms=1024m
- 《Java虚拟机规范》规定，堆可以处于物理上不连续的内存空间中，但在逻辑上它应该被视为连续的。
<a name="3eNGq"></a>
# 2. 堆内存细分
Java 8及之后堆内存逻辑上分为三部分：新生区+老年代+元空间（方法区实现方式）<br />堆空间内部结构，JDK1.8之前从永久代 替换成 元空间。

![](https://cdn.nlark.com/yuque/0/2021/png/177460/1615883013924-9c5fa03a-7abf-42af-867d-41f22d5026c7.png#align=left&display=inline&height=506&margin=%5Bobject%20Object%5D&originHeight=506&originWidth=1051&size=0&status=done&style=none&width=1051)

