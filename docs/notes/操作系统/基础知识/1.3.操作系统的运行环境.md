# 3.操作系统的运行环境


<a name="B6mwN"></a>
# 3.1 程序的级别
<a name="3KfIF"></a>
## 内核程序
由很多内核程序组成了“操作系统内核”，内核是操作系统最重要核心的部分，也是最接近硬件的部分
<a name="hlxwf"></a>
## 应用程序
一条高级语言的代码翻译过来可能会对应多条机器指令，程序运行的过程就是CPU执行一条一条的机器指令的过程。
<a name="th9EO"></a>
# 3.2 指令的级别
<a name="fZ1mI"></a>
## 特权指令
只允许操作系统内核作为“管理者”去使用特权指令，例如内存清零指令。
<a name="h1LDj"></a>
## 非特权指令
应用程序只能使用“费特权指令”，例如加法指令，减法指令。<br />在CPU设计和生产的时候就划分了特权指令和非特权指令，因此CPU执行一条指令前就能判断出其类型。
<a name="2j8mk"></a>
# 3.3 内核态和用户态
      在讲特权指令和非特权指令时，CPU可以判断出指令类型，但是他怎么去区分正在运行的是内核程序还是应用程序呢？<br />      CPU有2种状态，“内核态”和“用户态”<br />      处在内核态时，说明此时正在运行的是内核程序，此时可以执行特权指令。<br />      处在用户态时，说明此时正在运行的是应用程序，此时可以执行非特权指令。

     CPU中有一个寄存器叫做 程序状态字寄存器（PSW），其中有个二进制位，1表示内核态，0表示用户态。
